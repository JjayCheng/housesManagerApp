{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[function(n,t,e){},,,,,,function(n,t,e){\"use strict\";var o=e(0);e.n(o).a},function(n,t,e){},function(n,t,e){},function(n,t,e){},,,,function(n,t,e){\"use strict\";e.r(t);var o=e(3),a={},i=(e(6),e(5)),s=Object(i.a)(a,function(){var n=this.$createElement,t=this._self._c||n;return t(\"div\",{attrs:{id:\"app\"}},[t(\"router-view\")],1)},[],!1,null,\"07fcbde9\",null).exports,c=e(1);var u=[{path:\"/\",redirect:\"/index\"},{path:\"/addform\",component:()=>e.e(5).then(e.bind(null,32))},{path:\"/compatibleHouse\",component:()=>e.e(3).then(e.bind(null,31))},{path:\"/detailsHouse\",component:()=>e.e(6).then(e.bind(null,33))},{path:\"/search\",component:()=>e.e(7).then(e.bind(null,34))},{path:\"/index\",component:()=>e.e(4).then(e.bind(null,30))}],r=e(2),l={count:0,firstName:\"Jjay\",lastName:\"Cheng\",a:\"aaa\"},f={fullName:n=>`${n.firstName} ${n.lastName}`};e(7),e(8),e(9);var E={showToast(){console.log(1)}};console.log(1);let T={};const h={dbName:\"h5ds\",version:\"1.0\",dbDesc:\"h5ds 本地本地数据库\",dbSize:524288e3,tableName:\"house\"};function m(){var n=\"CREATE TABLE IF  NOT EXISTS \"+h.tableName+\" (ID INTEGER PRIMARY KEY AUTOINCREMENT, TIME char(20), CONTENT text, CLASSTYPE tinyint, REGTYPE tinyint)\";T.transaction(function(t,e){t.executeSql(n,[],null,function(n,t){uni.showToast({title:\"创建表失败\",icon:\"none\"})})})}function d(n){var t=[/单间/g,/(1|一)室(1|一)厅/g,/(2|二|两)室(1|一)厅/g,/(3|三)室(1|一)厅/g,/(3|三)室(2|二|两)厅/g,/^((?!单间|((3|三|2|二|两|1|一)室(2|二|两|1|一)厅)).)*$/g],e=6;for(let o=0,a=t.length;o<a;o++){t[o].test(n)&&(e=o+1)}return e}function S(n,t,e,o,a){e=e||(new Date).getTime().toString();var i=\"INSERT INTO \"+h.tableName+\" (TIME,CONTENT,CLASSTYPE,REGTYPE) VALUES (?,?,?,?)\",s=d(n);T.transaction(function(c){c.executeSql(i,[e,n,t,s],function(n,t){t=t.rows;o&&o()},function(n,t){a&&a(t),uni.showToast({title:\"添加失败:\"+t.massage,icon:\"none\",duration:2e3})})})}function N(n,t,e){var o=\"SELECT * FROM \"+h.tableName+\" WHERE CONTENT = ? AND CLASSTYPE = ?\";T.transaction(function(a){a.executeSql(o,[n.CONTENT,n.CLASSTYPE],function(n,e){e=e.rows;t&&t(e)},function(n,t){e&&e(t)})})}var p={init:function(){!openDatabase(h.dbName,h.version,h.dbDesc,h.dbSize)&&uni.showToast({title:\"websql 数据库创建/打开失败！\",icon:\"none\"}),m()},getAllData:function(n,t){var e=\"SELECT * FROM \"+h.tableName;T.transaction(function(o){o.executeSql(e,[],function(t,e){e=e.rows,n&&n(e)},function(n,e){t&&t(e),uni.showToast({title:\"获取数据失败:\"+e.massage,icon:\"none\"})})})},deleteDateWithID:function(n,t,e){var o=\"DELETE FROM \"+h.tableName+\" WHERE ID = ?\";T.transaction(function(a,i){a.executeSql(o,[n],function(n,e){e=e.rows,t&&t(e)},function(n,t){e&&e(t),uni.showToast({title:\"删除失败:\"+t.massage,icon:\"none\"})})})},updateWithID:function(n,t,e,o,a){var i=(new Date).getTime().toString(),s=d(t),c=\"UPDATE \"+h.tableName+\" SET TIME = ?,CONTENT = ?,CLASSTYPE = ?,REGTYPE = ? WHERE ID = ?\";T.transaction(function(u,r){u.executeSql(c,[i,t,e,s,n],function(n,t){o&&o(t)},function(n,t){a&&a(t),uni.showToast({title:\"修改失败:\"+t.massage,icon:\"none\"})})})},getDataWithKeys:function(n,t,e){var o=[],a=\"SELECT * FROM \"+h.tableName+\" WHERE \";n.forEach(n=>{a+=\"CONTENT LIKE ? AND \",o.push(\"%\"+n+\"%\")}),a+=\"1 == 1\",T.transaction(function(n){n.executeSql(a,o,function(n,e){e=e.rows,t&&t(e)},function(n,t){e&&e(t),uni.showToast({title:\"关键字查询失败:\"+t.massage,icon:\"none\"})})})},insterData:S,creatTable:m,getDataWithID:function(n,t,e){var o=\"SELECT * FROM \"+h.tableName+\" WHERE ID=?\";T.transaction(function(a){a.executeSql(o,[n],function(n,e){e=e.rows,t&&t(e)},function(n,t){e&&e(t),uni.showToast({title:\"获取失败:\"+t.massage,icon:\"none\",duration:2e3})})})},insterDataByJson:function(n,t,e){var o=0,a=0,i=0;for(let s in n){let c=n[s];c.CLASSTYPE=c.CLASSTYPE?c.CLASSTYPE:c.TYPE,N(c,n=>{0===n.length?S(c.CONTENT,c.CLASSTYPE,c.TIME,()=>{o++,t&&t(o,a,i)},n=>{a++,e&&e(n),t&&t(o,a,i)}):(i++,t&&t(o,a,i))})}},deleteAllDate:function(n,t){var e=\"DELETE FROM \"+h.tableName;T.transaction(function(o,a){o.executeSql(e,[],function(t,e){e=e.rows,n&&n(e)},function(n,e){t&&t(e),uni.showToast({title:\"清空失败:\"+e.massage,icon:\"none\"})})})}};let w=[/1\\d{10}/g,/☎联系时请告知是在江安【聚E起】万人便民服务平台看到的信息。/g];var b={friendlyDate:n=>{var t=Date.now(),e=Math.floor((t-n)/1e3),o=Math.floor(e/60),a=Math.floor(o/60),i=Math.floor(a/24),s=Math.floor(i/30),c=Math.floor(s/12),u=\"\",r=0;return c>0?(u=\"year\",r=c):s>0?(u=\"month\",r=s):i>0?(u=\"day\",r=i):a>0?(u=\"hour\",r=a):o>0?(u=\"minute\",r=o):(u=\"second\",r=0===e?e=1:e),{year:\"%n%年前\",month:\"%n%月前\",day:\"%n%天前\",hour:\"%n%小时前\",minute:\"%n%分钟前\",second:\"%n%秒前\"}[u].replace(\"%n%\",r)},friendlyContent:n=>{var t=n;return w.forEach(n=>{t=t.replace(n,\".\")}),t},backup:n=>{uni.getProvider({service:\"share\",success(t,e){uni.share({provider:e,scene:\"WXSceneSession\",type:1,summary:JSON.stringify(n),success:function(n){uni.showToast({title:\"导出成功\"})},fail:function(t){uni.setClipboardData({data:JSON.stringify(n),success:function(){uni.showToast({title:\"分享失败，已复制到剪贴板\",icon:\"none\"})},fail:function(){uni.showToast({title:\"分享失败，制到剪贴板失败\",icon:\"none\"})}})}})}})}};p.init(),window.uni=E,window.util=b,window.db=p,o.a.use(c.a),o.a.use(r.a),new o.a({el:\"#app\",router:(()=>new c.a({mode:\"hash\",routes:u}))(),store:new r.a.Store({strict:!1,state:l,getters:f,mutations:{updateCount(n,t){n.count=t}},actions:{updateCountAsync(n,t){setTimeout(()=>{n.commit(\"updateCount\",t.num)},t.time)}}}),components:{App:s},template:\"<App/>\"})}],[[13,1,2]]]);","extractedComments":[]}