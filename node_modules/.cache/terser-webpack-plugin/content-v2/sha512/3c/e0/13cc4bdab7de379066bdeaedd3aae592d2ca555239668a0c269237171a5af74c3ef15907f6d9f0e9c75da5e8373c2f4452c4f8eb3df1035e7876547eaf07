{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{22:function(e,t,s){},28:function(e,t,s){\"use strict\";var i=s(22);s.n(i).a},33:function(e,t,s){\"use strict\";s.r(t);var i={data:()=>({house:{},selected:0,newContent:\"\",showClear:!1,phone:\"\",id:0}),created(){this.id=this.$router.history.current.params.id,this.reload()},methods:{reload(){db.getDataWithID(this.id,e=>{var t=e[0];t.friendlyDate=util.friendlyDate(t.TIME),this.house=t,this.selected=t.CLASSTYPE;var s=this.newContent=t.CONTENT;this.phone=s.match(/1\\d{10}/g)})},restore(){var e=this.house;this.selected=e.CLASSTYPE,this.newContent=e.CONTENT},update(){db.updateWithID(this.house.ID,this.newContent,this.selected,e=>{uni.showToast({title:\"修改成功\"}),this.house.CONTENT=this.newContent,this.house.CLASSTYPE=this.selected,this.showClear=!1,this.reload()})},remove(){db.deleteDateWithID(this.id,e=>{console.log(e),uni.navigateBack(this)})},callPhone(){var e=this.phone;e?e.length>1?uni.showActionSheet({itemList:e,success:t=>{uni.makePhoneCall({phoneNumber:e[t.tapIndex]})}}):uni.makePhoneCall({phoneNumber:this.phone[0]}):uni.showToast({title:\"没找到电话号码,可能输入有误\",icon:\"none\"})}},watch:{selected(){this.selected===this.house.TYPE?this.showClear=!1:this.showClear=!0},newContent(){this.newContent===this.house.CONTENT?this.showClear=!1:this.showClear=!0}}},a=(s(28),s(5)),n=Object(a.a)(i,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"div\",{staticClass:\"detailsHouse\"},[s(\"div\",{staticClass:\"uni-textarea\"},[s(\"textarea\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.newContent,expression:\"newContent\"}],attrs:{\"placeholder-style\":\"color:#ccc\",placeholder:\"添加房源信息..\"},domProps:{value:e.newContent},on:{input:function(t){t.target.composing||(e.newContent=t.target.value)}}})]),e._v(\" \"),s(\"h3\",[e._v(\"房源分类：\")]),e._v(\" \"),s(\"div\",{staticClass:\"selecte-wrapper\"},[s(\"div\",{staticClass:\"selecte-item\",class:{selected:1===e.selected},on:{click:function(t){e.selected=1}}},[s(\"span\",{staticClass:\"text\"},[e._v(\"租房\")])]),e._v(\" \"),s(\"div\",{staticClass:\"selecte-item\",class:{selected:2===e.selected},on:{click:function(t){e.selected=2}}},[s(\"span\",{staticClass:\"text\"},[e._v(\"售房\")])]),e._v(\" \"),s(\"div\",{staticClass:\"selecte-item\",class:{selected:3===e.selected},on:{click:function(t){e.selected=3}}},[s(\"span\",{staticClass:\"text\"},[e._v(\"租门市\")])]),e._v(\" \"),s(\"div\",{staticClass:\"selecte-item\",class:{selected:4===e.selected},on:{click:function(t){e.selected=4}}},[s(\"span\",{staticClass:\"text\"},[e._v(\"售门市\")])]),e._v(\" \"),s(\"div\",{staticClass:\"selecte-item\",class:{selected:5===e.selected},on:{click:function(t){e.selected=5}}},[s(\"span\",{staticClass:\"text\"},[e._v(\"求租\")])])]),e._v(\" \"),s(\"div\",{staticClass:\"time\"},[s(\"i\",{staticClass:\"iconfont icon-lishi\"}),e._v(\" \"),s(\"text\",[e._v(e._s(e.house.friendlyDate))])]),e._v(\" \"),s(\"div\",{staticClass:\"btn-wrapper\"},[s(\"transition\",{attrs:{name:\"component-fadez\",mode:\"out-in\"}},[e.showClear?s(\"div\",[s(\"button\",{staticClass:\"default\",attrs:{size:\"mini\"},on:{click:e.restore}},[e._v(\"还原\")]),e._v(\" \"),s(\"button\",{staticClass:\"primary\",attrs:{size:\"mini\"},on:{click:e.update}},[e._v(\"保存\")])]):s(\"button\",{staticClass:\"warn\",on:{click:e.remove}},[e._v(\"删除\")])])],1),e._v(\" \"),s(\"div\",{staticClass:\"call\",on:{click:e.callPhone}},[s(\"i\",{staticClass:\"iconfont icon-dianhua\"})])])},[],!1,null,\"f9b986ba\",null);t.default=n.exports}}]);","extractedComments":[]}