{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{29:function(t,e,s){},35:function(t,e,s){\"use strict\";var i=s(29);s.n(i).a},39:function(t,e,s){\"use strict\";s.r(e);var i={name:\"detailsHouse\",data:()=>({house:{},selected:0,newContent:\"\",showClear:!1,phone:\"\",id:0,classTypeTextListNoAll:filterMaps.classTypeTextListNoAll}),mounted(){this.id=this.$router.history.current.params.id,this.load()},methods:{load(){db.getDataWithID(this.id,t=>{var e=t[0];e.friendlyDate=util.friendlyDate(e.TIME),this.house=e,this.selected=e.CLASSTYPE;var s=this.newContent=e.CONTENT;this.phone=s.replace(/\\s*/g,\"\").match(/1\\d{10}/g)})},restore(){var t=this.house;this.selected=t.CLASSTYPE,this.newContent=t.CONTENT},update(){db.updateWithID(this.house.ID,this.newContent,this.selected,t=>{this.$notify({title:\"修改成功\"}),window.history.back()})},remove(){this.$promptbox({content:\"确认删除?\",cancle_true:()=>{db.deleteDateWithID(this.id,t=>{window.history.back(),this.$emit(\"needLoad\")})}})},callPhone(){var t=this.phone;t?t.length>1?this.$choicebox({title:\"有多个手机号，请选择\",list:t,method:e=>{Android.callPhone(t[e])}}):Android.callPhone(this.phone[0]):this.$notify({title:\"没找到电话号码,可能输入有误\",icon:\"none\"})},back(){window.history.back()}},watch:{selected(){this.selected===this.house.CLASSTYPE?this.showClear=!1:this.showClear=!0},newContent(){this.newContent===this.house.CONTENT?this.showClear=!1:this.showClear=!0}}},n=(s(35),s(1)),a=Object(n.a)(i,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"detailsHouse\"},[s(\"action-bar\",{attrs:{title:\"管理房源\"},on:{back:t.back}}),t._v(\" \"),s(\"div\",{staticClass:\"uni-textarea\"},[s(\"textarea\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.newContent,expression:\"newContent\"}],attrs:{\"placeholder-style\":\"color:#ccc\",placeholder:\"添加房源信息..\"},domProps:{value:t.newContent},on:{input:function(e){e.target.composing||(t.newContent=e.target.value)}}})]),t._v(\" \"),s(\"h3\",[t._v(\"房源分类：\")]),t._v(\" \"),s(\"div\",{staticClass:\"selecte-wrapper\"},t._l(t.classTypeTextListNoAll,function(e,i){return s(\"div\",{key:e,class:[\"selecte-item\",{selected:t.selected===i+1}],on:{click:function(e){t.selected=i+1}}},[s(\"span\",{staticClass:\"text\"},[t._v(t._s(e))])])}),0),t._v(\" \"),s(\"div\",{staticClass:\"time\"},[s(\"i\",{staticClass:\"iconfont icon-lishi\"}),t._v(\" \"),s(\"span\",[t._v(t._s(t.house.friendlyDate))])]),t._v(\" \"),s(\"div\",{staticClass:\"btn-wrapper\"},[s(\"transition\",{attrs:{name:\"btns-fade\",mode:\"out-in\"}},[t.showClear?s(\"div\",[s(\"button\",{staticClass:\"default\",attrs:{size:\"mini\"},on:{click:t.restore}},[t._v(\"还原\")]),t._v(\" \"),s(\"button\",{staticClass:\"primary\",attrs:{size:\"mini\"},on:{click:t.update}},[t._v(\"保存\")])]):s(\"button\",{staticClass:\"warn\",on:{click:t.remove}},[t._v(\"删除\")])])],1),t._v(\" \"),s(\"div\",{staticClass:\"call\",on:{click:t.callPhone}},[s(\"i\",{staticClass:\"iconfont icon-dianhua\"})])],1)},[],!1,null,\"e19cd8e8\",null);e.default=a.exports}}]);","extractedComments":[]}