{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[function(t,n,e){},,,,,,function(t,n,e){\"use strict\";var o=e(0);e.n(o).a},function(t,n,e){},function(t,n,e){},function(t,n,e){},,,,function(t,n,e){\"use strict\";e.r(n);var o=e(3),a={},i=(e(6),e(5)),s=Object(i.a)(a,function(){var t=this.$createElement,n=this._self._c||t;return n(\"div\",{attrs:{id:\"app\"}},[n(\"transition\",{attrs:{name:\"fade\"}},[n(\"router-view\")],1)],1)},[],!1,null,\"0faf8d02\",null).exports,c=e(1);var u=[{path:\"/\",redirect:\"/index\"},{path:\"/addform\",component:()=>e.e(5).then(e.bind(null,32))},{path:\"/compatibleHouse/:wd\",component:()=>e.e(3).then(e.bind(null,31))},{path:\"/detailsHouse/:id\",component:()=>e.e(6).then(e.bind(null,33))},{path:\"/search\",component:()=>e.e(7).then(e.bind(null,34))},{path:\"/index\",component:()=>e.e(4).then(e.bind(null,30))}],r=e(2),l={count:0,firstName:\"Jjay\",lastName:\"Cheng\",a:\"aaa\"},f={fullName:t=>`${t.firstName} ${t.lastName}`};e(7),e(8),e(9);var E={showToast(t){console.log(t.title)},getStorageSync(t){var n=window.localStorage[t];return void 0===n&&(n=window.localStorage[t]=[]),JSON.parse(n)},setStorageSync(t,n){window.localStorage[t]=JSON.stringify(n)},makePhoneCall(){},navigateBack(t){window.history.length>1?t.$router.go(-1):t.$router.push(\"/\")},showActionSheet(){},setNavigationBarTitle(){}};console.log(1);let T={};const h={dbName:\"houses\",version:\"2.0\",dbDesc:\"\",dbSize:512e3,tableName:\"house\"};function S(){var t=\"CREATE TABLE IF NOT EXISTS \"+h.tableName+\" (ID INTEGER PRIMARY KEY AUTOINCREMENT, TIME char(20), CONTENT text, CLASSTYPE tinyint, REGTYPE tinyint)\";T.transaction(function(n,e){n.executeSql(t,[],null,function(t,n){})})}function d(t){var n=[/单间/g,/(1|一)室(1|一)厅/g,/(2|二|两)室(1|一)厅/g,/(3|三)室(1|一)厅/g,/(3|三)室(2|二|两)厅/g,/^((?!单间|((3|三|2|二|两|1|一)室(2|二|两|1|一)厅)).)*$/g],e=6;for(let o=0,a=n.length;o<a;o++){n[o].test(t)&&(e=o+1)}return e}function m(t,n,e,o,a){e=e||(new Date).getTime().toString();var i=\"INSERT INTO \"+h.tableName+\" (TIME,CONTENT,CLASSTYPE,REGTYPE) VALUES (?,?,?,?)\",s=d(t);T.transaction(function(c){c.executeSql(i,[e,t,n,s],function(t,n){n=n.rows;o&&o()},function(t,n){a&&a(n),uni.showToast({title:\"添加失败:\"+n.massage,icon:\"none\",duration:2e3})})})}function w(t,n,e){var o=\"SELECT * FROM \"+h.tableName+\" WHERE CONTENT = ? AND CLASSTYPE = ?\";T.transaction(function(a){a.executeSql(o,[t.CONTENT,t.CLASSTYPE],function(t,e){e=e.rows;n&&n(e)},function(t,n){e&&e(n)})})}var N={init:function(){T=function(){let t=openDatabase(h.dbName,h.version,h.dbDesc,h.dbSize);return!t&&uni.showToast({title:\"websql 数据库创建/打开失败！\",icon:\"none\"}),t}(),S()},getAllData:function(t,n){var e=\"SELECT * FROM \"+h.tableName;T.transaction(function(o){o.executeSql(e,[],function(n,e){e=e.rows,t&&t(e)},function(t,e){n&&n(e),uni.showToast({title:\"获取数据失败:\"+e.massage,icon:\"none\"})})})},deleteDateWithID:function(t,n,e){var o=\"DELETE FROM \"+h.tableName+\" WHERE ID = ?\";T.transaction(function(a,i){a.executeSql(o,[t],function(t,e){e=e.rows,n&&n(e)},function(t,n){e&&e(n),uni.showToast({title:\"删除失败:\"+n.massage,icon:\"none\"})})})},updateWithID:function(t,n,e,o,a){var i=(new Date).getTime().toString(),s=d(n),c=\"UPDATE \"+h.tableName+\" SET TIME = ?,CONTENT = ?,CLASSTYPE = ?,REGTYPE = ? WHERE ID = ?\";T.transaction(function(u,r){u.executeSql(c,[i,n,e,s,t],function(t,n){o&&o(n)},function(t,n){a&&a(n),uni.showToast({title:\"修改失败:\"+n.massage,icon:\"none\"})})})},getDataWithKeys:function(t,n,e){var o=[],a=\"SELECT * FROM \"+h.tableName+\" WHERE \";t.forEach(t=>{a+=\"CONTENT LIKE ? AND \",o.push(\"%\"+t+\"%\")}),a+=\"1 == 1\",T.transaction(function(t){t.executeSql(a,o,function(t,e){e=e.rows,n&&n(e)},function(t,n){e&&e(n),uni.showToast({title:\"关键字查询失败:\"+n.massage,icon:\"none\"})})})},insterData:m,creatTable:S,getDataWithID:function(t,n,e){var o=\"SELECT * FROM \"+h.tableName+\" WHERE ID=?\";T.transaction(function(a){a.executeSql(o,[t],function(t,e){e=e.rows,n&&n(e)},function(t,n){e&&e(n),uni.showToast({title:\"获取失败:\"+n.massage,icon:\"none\",duration:2e3})})})},insterDataByJson:function(t,n,e){var o=0,a=0,i=0;for(let s in t){let c=t[s];c.CLASSTYPE=c.CLASSTYPE?c.CLASSTYPE:c.TYPE,w(c,t=>{0===t.length?m(c.CONTENT,c.CLASSTYPE,c.TIME,()=>{o++,n&&n(o,a,i)},t=>{a++,e&&e(t),n&&n(o,a,i)}):(i++,n&&n(o,a,i))})}},deleteAllDate:function(t,n){var e=\"DELETE FROM \"+h.tableName;T.transaction(function(o,a){o.executeSql(e,[],function(n,e){e=e.rows,t&&t(e)},function(t,e){n&&n(e),uni.showToast({title:\"清空失败:\"+e.massage,icon:\"none\"})})})}};let g=[/1\\d{10}/g,/☎联系时请告知是在江安【聚E起】万人便民服务平台看到的信息。/g];var p={friendlyDate:t=>{var n=Date.now(),e=Math.floor((n-t)/1e3),o=Math.floor(e/60),a=Math.floor(o/60),i=Math.floor(a/24),s=Math.floor(i/30),c=Math.floor(s/12),u=\"\",r=0;return c>0?(u=\"year\",r=c):s>0?(u=\"month\",r=s):i>0?(u=\"day\",r=i):a>0?(u=\"hour\",r=a):o>0?(u=\"minute\",r=o):(u=\"second\",r=0===e?e=1:e),{year:\"%n%年前\",month:\"%n%月前\",day:\"%n%天前\",hour:\"%n%小时前\",minute:\"%n%分钟前\",second:\"%n%秒前\"}[u].replace(\"%n%\",r)},friendlyContent:t=>{var n=t;return g.forEach(t=>{n=n.replace(t,\".\")}),n},backup:t=>{uni.getProvider({service:\"share\",success(n,e){uni.share({provider:e,scene:\"WXSceneSession\",type:1,summary:JSON.stringify(t),success:function(t){uni.showToast({title:\"导出成功\"})},fail:function(n){uni.setClipboardData({data:JSON.stringify(t),success:function(){uni.showToast({title:\"分享失败，已复制到剪贴板\",icon:\"none\"})},fail:function(){uni.showToast({title:\"分享失败，制到剪贴板失败\",icon:\"none\"})}})}})}})}};N.init(),window.uni=E,window.util=p,window.db=N,o.a.use(c.a),o.a.use(r.a),new o.a({el:\"#app\",router:(()=>new c.a({mode:\"hash\",routes:u}))(),store:new r.a.Store({strict:!1,state:l,getters:f,mutations:{updateCount(t,n){t.count=n}},actions:{updateCountAsync(t,n){setTimeout(()=>{t.commit(\"updateCount\",n.num)},n.time)}}}),components:{App:s},template:\"<App/>\"})}],[[13,1,2]]]);","extractedComments":[]}